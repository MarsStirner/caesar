{% extends 'base.html' %}

{% block title %} > Авторизация{% endblock %}

{% block modules_css %}
    <style type="text/css">
        body {
            background-color: #f5f5f5;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="marketing">
        <form class="form-signin" method="post">
            {{ form.hidden_tag() }}
            <h2 class="form-signin-heading">Авторизуйтесь</h2>

            {% with messages = get_flashed_messages() %} {# Их же тут нет? #}
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-success">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            {% if errors %}
                {%- for error in errors -%}
                    <div class="alert alert-danger">{{ error|safe }}</div>
                {%- endfor -%}
            {% endif %}

            {% for field in form %}
                {% if field.type != "CSRFTokenField" %}
                    <div class="form-group">
                        {{ field(value=field.value, placeholder=field.label.text, required="required",
                        title="Необходимо заполнить это поле!", class="form-control") }}
                    </div>
                {% endif %}
            {% endfor %}

            <div class="form-group">
                <button type="submit" class="btn btn-success btn-large">Войти</button>
            </div>
        </form>
    </div>
{% endblock %}